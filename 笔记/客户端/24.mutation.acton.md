## 1.muattion - 修改data 数据
mutation中拿到state， 更改数据，参数只携带一个state和payload
app.vue
```jsx
  mounted () {
    let i = 1
    setInterval(() => {
      // 调用 mutations
      this.$store.commit('updateCount', {
        num: i++,
        num2: 2
      })
    }, 1000)
  }
```
mutations.js

```javascript
// 解构取出参数
export default {
  updateCount (state, { num, num2 }) {
    state.count = num + num2
  }
}

```

## 2. 也可以直接修改数据

```javascript
  this.$store.state.count = 3
```
但不推荐这么使用，在开发环境下禁止这样修改     strict: true, 
store.js
```javascript
import Vuex from 'vuex'
import defaultState from './state/state'
import mutations from './mutations/mutations'
import getters from './getters/getters'
// 判断是否是开发环境
const isDev = process.env.NODE_ENV === 'development' 
export default () => {
  return new Vuex.Store({
    // strict: true, // 禁止直接修改state
    strict: isDev,
    state: defaultState,
    mutations: mutations,
    getters
  })
}


```

## 3. 创建 action/action.js
mutation 只能进行同步操作， action 可以添加异步代码
```javascript
export default {
  updateCountAsync (store, data) {
    setTimeout(() => {
      store.commit('updateCount', {
        num: data.num,
        num2: 2
      })
    }, data.time)
  }
}

```

store.js
```javascript
import Vuex from 'vuex'
import defaultState from './state/state'
import mutations from './mutations/mutations'
import getters from './getters/getters'
import actions from './action/action'
const isDev = process.env.NODE_ENV === 'development'
export default () => {
  return new Vuex.Store({
    // strict: true, // 禁止直接修改state
    strict: isDev,
    state: defaultState,
    mutations: mutations,
    getters,
    actions
  })
}
```

app.vue
```jsx
  mounted () {
    console.log(this.$route)
    console.log(this.$store)
    // let i = 1
    // this.$store.state.count = 3
    this.$store.dispatch('updateCountAsync', {
      num: 5,
      time: 2000
    })
    // setInterval(() => {
    //   // 调用 mutations
    //   this.$store.commit('updateCount', {
    //     num: i++,
    //     num2: 2
    //   })
    // }, 1000)
  }
}
```

## 4. mapAction /  mapMutations 操作
app.vue
```javascript
methods: {
  ...mapActions(['updateCountAsync']),
  ...mapMutations(['updateCount'])
},
mounted () {
  console.log(this.$route)
  console.log(this.$store)
  let i = 1
  // this.$store.state.count = 3
  this.updateCountAsync({
    num: 5,
    time: 2000
  })
  setInterval(() => {
    // 调用 mutations
    this.updateCount({
      num: i++,
      num2: 2
    })
  }, 1000)
}
```
