## 1. 添加默认路由跳转
client/config/routes.js
```javascript
import Todo from '../views/todo/todo.vue'
import Login from '../views/login/login.vue'

export default [
  {
    path: '/',
    redirect: '/app' // 默认路由跳转
  },
  {
    path: '/app',
    component: Todo
  },
  {
    path: '/login',
    component: Login
  }
]
```

## 2. 不使用哈希路由 设置model
哈希路由一般用来定位，不是用来记录路由状态，且哈希路由不会被解析，不利于seo


router.js
```javascript
import Router from 'vue-router'
import routes from './routes'

export default () => {
  return new Router({
    routes,
    mode: 'history'
  })
}

```

## 3. base - 设置路由前缀
设置base， 默认跳转路由变为：http://localhost:8001/base/app

在path 前面加上 /base/ - 并非强制性，不加也能访问
```javascript
import Router from 'vue-router'

import routes from './routes'

// 创建router实例
export default () => {
  return new Router({
    routes,
    mode: 'history',
    base: '/base/'
  })
}

```

## 4. 配置webpack - 路径映射关系[historyApiFallback]
没有匹配到路径就返回根路径
1. 设置为根目录下的index.html， htmlPlugin 生成的html的位置
2. 路径与public 路径有关
webpack.config.client.js

```javascript
const devServer = {
  port: 8001,
  host: '0.0.0.0', // 可以通过IP访问，其他设备也可以
  overlay: {
    errors: true // 显示错误
  },
  //    historyFallback: {
  //        //webpack-dev-server 中没有映射的地址映射到index.html
  //    },
  hot: true, // 重新渲染当页面代码
  historyApiFallback: {
    index: '/index.html' // 设置为根目录下的index.html
    // htmlPlugin 生成的html的位置，注意这个路径和public路经有关

  }
  // open: true, // 自动打开浏览器
}

```

如果webpack.cofig.base.js 修改 historyApiFallback 的基路径
```javascript
  output: {
    // 输出路径
    filename: 'bundle.[hash:8].js',
    path: path.join(__dirname, '../dists'),
    publicPath: '/public/'
  }
```
对应也要修改 - historyApiFallback
```javascript
  historyApiFallback: {
    index: '/public/index.html' // 设置为根目录下的index.html
    // htmlPlugin 生成的html的位置，注意这个路径和public路经有关

  }
```

页面可以正常显示



## 5. router-link 添加路由链接跳转 - a标签

```html
<template>
  <div id="app">
    <div id="cover" />
    <Header />
    <!-- <Todo /> -->
    <router-link to='/app'>APP</router-link>
    <router-link to='/login'>login</router-link>
    <router-view />
    <Footer />
  </div>
</template>

<script>
import Header from './layout/header.vue'
import Footer from './layout/footer.jsx'
// import Todo from './views/todo/todo.vue'
export default {
  components: {
    Header,
    Footer
    // Todo
  },
  data () {
    return {
      text: 'abc'
    }
  }
}

</script>

<style scoped lang="stylus">
</style>

```

## 6. 设置链接被激活时候样式
1. linkExactActiveClass 完全匹配时候
2. linkActiveClass 部分匹配

app.vue
```html
<template>
  <div id="app">
    <div id="cover" />
    <Header />
    <!-- <Todo /> -->
    <router-link to='/app'>APP</router-link>
    <router-link to='/login'>login</router-link>
    <router-link to='/login/exact'>login Exact</router-link>
    <router-view />
    <Footer />
  </div>
</template>

<script>
import Header from './layout/header.vue'
import Footer from './layout/footer.jsx'
// import Todo from './views/todo/todo.vue'
export default {
  components: {
    Header,
    Footer
    // Todo
  },
  data () {
    return {
      text: 'abc'
    }
  }
}

</script>
```
```javascript
import Router from 'vue-router'

import routes from './routes'

// 创建router实例
export default () => {
  return new Router({
    routes,
    mode: 'history',
    base: '/base/',
    linkExactActiveClass: 'exact-active-link',
    linkActiveClass: 'active-class'
  })
}

```

router.js
```javascript
import Router from 'vue-router'

import routes from './routes'
// 创建router实例
export default () => {
  return new Router({
    routes,
    mode: 'history',
    base: '/base/',
    linkExactActiveClass: 'exact-active-link', // 全部符合加上
    linkActiveClass: 'active-class' // 部分符合加上类名
  })
}
```

route.js - 路由结构·
```javascript
import Todo from '../views/todo/todo.vue'
import Login from '../views/login/login.vue'

export default [
  {
    path: '/',
    redirect: '/app' // 默认路由跳转
  },
  {
    path: '/app',
    component: Todo
  },
  {
    path: '/login',
    component: Login
  },
  {
    path: '/login/exact',
    component: Login
  }
]

```

class名称 发现当选中的链接会加上相应的类名， 当全部匹配会加上，exact-active-link， 部分匹配会都加上active-class
```javascript
<a data-v-7752612a="" href="/base/login" class="exact-active-link active-class">login</a>
```

## 7.scrollBehavior 在页面路径跳转时要不要滚动
保存页面的滚动行为 - 访问过的话滚动到上次访问位置
```javascript
import Router from 'vue-router'
import routes from './routes'

// 创建router实例
export default () => {
  return new Router({
    routes,
    mode: 'history',
    base: '/base/',
    linkExactActiveClass: 'exact-active-link',
    linkActiveClass: 'active-class',
    scrollBehavior (to, form, savedPosition) {
      // savedPosition 进入过本路由会记录位置
      if (savedPosition) {
        return savedPosition
      } else {
        return { x: 0, y: 0 }
      }
    }
  })
}
```

## 8. 页面参数
转为josonObject

```javascript
parseQuery (query) {
  // 参数query字符串 字符串转jsonObject

},
stringifyQuery (obj) {
  // 参数Obj 
}
```

## 9.fallback 不是所有的浏览器都支持history路由形式
    fallback: false 变为多页应用，每次像后端请求

    
